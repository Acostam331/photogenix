{"version":3,"sources":["pages/Feed/Feed.module.css","pages/User/User.module.css","pages/MyPosts/MyPosts.module.css","services/User.services.js","Context/UserContext.js","pages/Login/Login.jsx","pages/User/User.jsx","pages/Test.js","assets/img/error.png","pages/Error.js","pages/Feed/Footer.jsx","components/Card/Card.js","services/Posts.services.js","components/Comment/Comment.js","components/Comments/Comments.js","components/EditPost/EditPost.js","components/AddPost/AddPost.js","components/Loading/Loading.js","pages/Feed/Feed.jsx","pages/Redirect/RedirectUser.jsx","components/PrivateRoute/PrivateRoute.jsx","pages/MyPosts/MyPosts.js","index.js"],"names":["module","exports","BASE_URL","services","login","username","password","a","response","axios","method","baseURL","url","headers","data","statusText","console","log","verifyToken","token","Authorization","error","UserContext","React","createContext","TOKEN_KEY","UserProvider","props","useState","undefined","setToken","user","setUser","useEffect","verifyTokenAsync","lsToken","getToken","userService","role","setTokenAll","localStorage","setItem","useCallback","loginAsync","status","tokenRes","logout","value","useMemo","Provider","useUserContext","context","useContext","Error","getItem","Login","setUsername","setPassword","setError","onChange","e","save","target","onSubmitHandler","preventDefault","logged","replace","to","className","onSubmit","type","placeholder","User","navigate","useNavigate","classes","dCenter","returnSection","iconReturn","userPage","logOut","ownPostsButton","logOutButton","onClick","Test","testFunction","alt","src","ErrorFlork","Footer","changeTab","setIsNewPost","icons","Card","_id","title","description","image","likes","active","comments","setComments","setEdit","localData","isMyPost","addNewLike","addNewFav","addStatus","currentuser","isMine","setIsMine","isReadMore","setIsReadMore","postComments","filter","x","forEach","id","length","substring","desc","isEdit","postId","postTitle","postDesc","postImg","isComments","getAllPosts","page","authorization","posts","isLoading","getMyPosts","getOnePost","getFavoritesIds","favorites","getFavorites","id_array","promisesArray","map","Promise","all","results","setNewFavorite","setNewLike","setNewComment","message","setNewPost","setStatusPost","editPost","Comment","Comments","setAlertModal","cleanAlert","newPost","find","post","setMessage","addCommentHandler","push","Date","isAlert","setTimeout","comment","EditPost","edit","setLocalData","imageUrl","setImageUrl","setPostTitle","setPostDesc","editPostHandler","AddPost","newPostAdded","setTitle","setDesc","setImage","addPostHandler","Loading","Feed","setPosts","tab","setTab","setPage","setIsLoading","alertModal","isNewPost","getData","extraTime","prevPosts","icon","addStatusHandler","addNewLikeHandler","index","findIndex","subIndex","splice","addNewFavHandler","changeTabHandler","newtab","userSection","iconUser","alertCard","dataLength","next","hasMore","scrollableTarget","rolePages","RedirectUser","PrivateRoute","children","MyPosts","ReactDOM","render","path","element","document","getElementById"],"mappings":"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","file":"static/js/main.953bb2fa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dCenter\":\"Feed_dCenter__w6RtN\",\"userSection\":\"Feed_userSection__3H-pn\",\"posts\":\"Feed_posts__1ok1R\",\"postsWrapper\":\"Feed_postsWrapper__hPdwa\",\"icons\":\"Feed_icons__1Dk8p\",\"iconUser\":\"Feed_iconUser__3dINg\",\"icon\":\"Feed_icon__22nLQ\",\"alertCard\":\"Feed_alertCard__16xV-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dCenter\":\"User_dCenter__1UyWw\",\"returnSection\":\"User_returnSection__2fB8v\",\"iconReturn\":\"User_iconReturn__vHXb8\",\"userPage\":\"User_userPage__1zU8x\",\"logOut\":\"User_logOut__3L4cj\",\"logOutButton\":\"User_logOutButton__1N7Zb\",\"ownPostsButton\":\"User_ownPostsButton__2DQnS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dCenter\":\"MyPosts_dCenter__1r7j5\",\"userSection\":\"MyPosts_userSection__1x73u\",\"posts\":\"MyPosts_posts__29pTO\",\"postsWrapper\":\"MyPosts_postsWrapper__3MwwI\",\"icons\":\"MyPosts_icons__2fMys\",\"iconUser\":\"MyPosts_iconUser__2Rx0L\",\"alertCard\":\"MyPosts_alertCard__15aIX\"};","import axios from 'axios';\n\nconst BASE_URL = 'https://posts-pw2021.herokuapp.com/api/v1';\n\nconst services = {};\n\nservices.login = async (username, password) => {\n  let response = {};\n  try {\n    response = await axios({\n      method: 'POST',\n      baseURL: BASE_URL,\n      url: `/auth/signin`,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      data: {\n        username: username,\n        password: password,\n      },\n    });\n\n    if (response.statusText === 'OK') {\n      response = response.data;\n    }\n  } catch (error) {\n    console.log(error);\n  } finally {\n    console.log(response.data);\n    return response;\n  }\n};\n\nservices.verifyToken = async (token) => {\n  let response = {};\n  try {\n    response = await axios({\n      method: 'GET',\n      baseURL: BASE_URL,\n      url: `/auth/whoami`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    if (response.statusText === 'OK') {\n      response = response.data;\n    }\n  } catch (error) {\n    console.error(error);\n  } finally {\n    return response;\n  }\n};\n\nexport default services;\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\n/*import {useGetUser} from './../services/Posts.services';*/\nimport userService from './../services/User.services';\n\nconst UserContext = React.createContext();\nconst TOKEN_KEY = 'token';\n\nexport const UserProvider = (props) => {\n  const [token, setToken] = useState(undefined);\n  const [user, setUser] = useState(undefined);\n\n  useEffect(() => {\n    const verifyTokenAsync = async () => {\n      const lsToken = getToken();\n\n      if (lsToken) {\n        const { username, role } = await userService.verifyToken(lsToken);\n        if (username && role) {\n          setUser({ username, role });\n          setTokenAll(lsToken);\n        }\n      }\n    };\n\n    verifyTokenAsync();\n  }, [token]);\n\n  const setTokenAll = (token) => {\n    localStorage.setItem(TOKEN_KEY, token);\n    setToken(token);\n  };\n\n  // Login process\n  const login = useCallback((username, password) => {\n    const loginAsync = async () => {\n      let status = false;\n      try {\n        const { token: tokenRes } = await userService.login(username, password);\n\n        if (tokenRes) {\n          setTokenAll(tokenRes);\n          status = true;\n        }\n      } catch (error) {\n        console.error(error);\n        console.error('Error in login');\n      } finally {\n        return status;\n      }\n    };\n\n    return loginAsync();\n  }, []);\n\n  // Clean the token to finish session\n  const logout = useCallback(() => {\n    setUser(undefined);\n    setTokenAll(undefined);\n  }, []);\n\n  // Info session\n  const value = useMemo(\n    () => ({\n      token: token,\n      user: user,\n      login: login,\n      logout: logout,\n    }),\n    [token, user, login, logout]\n  );\n\n  return <UserContext.Provider value={value} {...props} />;\n};\n\n// Export token in the object context\nexport const useUserContext = () => {\n  const context = React.useContext(UserContext);\n\n  if (!context) {\n    throw new Error('useUserContext() must be inside of UserProvider');\n  }\n\n  return context;\n};\n\nconst getToken = () => localStorage.getItem(TOKEN_KEY);\n","// Login Page\nimport { useState } from 'react';\nimport { Navigate } from 'react-router-dom';\n\nimport { useUserContext } from '../../Context/UserContext';\n\nexport default function Login() {\n  const { login, token } = useUserContext();\n  // States to see the inputs info, and then query and compare\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const [error, setError] = useState(false);\n\n  const onChange = (e, save) => {\n    save(e.target.value);\n  };\n\n  // It query if user information is valid\n  const onSubmitHandler = async (e) => {\n    e.preventDefault();\n    const logged = await login(username, password);\n\n    setError(!logged);\n    setUsername('');\n    setPassword('');\n  };\n\n  // If token is valid, it will load \"redirect\"\n  if (token) {\n    return <Navigate replace to=\"/redirect\" />;\n  }\n\n  return (\n    // html and design\n    <div className=\"flex justify-center items-center min-h-screen bg-indigo-900\">\n      <main className=\"square rounded-4xl\">\n        <form\n          onSubmit={onSubmitHandler}\n          className=\"flex flex-col gap-6 items-center justify-center\"\n        >\n          <h2 className=\"uppercase text-5xl lg:text-5xl font-extrabold text-gray-300 text-center pb-4\">\n            Photogenix\n          </h2>\n\n          {error && (\n            <p className=\"w-full rounded p-6 text-center text-white font-roboto bg-yellow-700 select-none hover:bg-yellow-800\">\n              Por favor verifica tus credenciales.\n            </p>\n          )}\n\n          <input\n            className=\"w-full text-gray-700 rounded-2xl focus:outline-none focus:ring py-2 px-4 bg-gray-300\"\n            type=\"text\"\n            value={username}\n            placeholder=\"Enter your username\"\n            onChange={(e) => onChange(e, setUsername)}\n          />\n\n          <input\n            className=\"w-full text-gray-700 rounded-2xl focus:outline-none focus:ring py-2 px-4 bg-gray-300\"\n            type=\"password\"\n            placeholder=\"Enter your password\"\n            onChange={(e) => onChange(e, setPassword)}\n            value={password}\n          />\n\n          <button className=\"rounded-2xl mt-6 w-1/4 bg-gray-800 py-2 px-4 text-white\">\n            Iniciar sesi칩n\n          </button>\n        </form>\n      </main>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useUserContext } from '../../Context/UserContext';\nimport { useNavigate } from 'react-router';\nimport classes from './User.module.css';\nimport { MdOutlineArrowBackIosNew } from 'react-icons/md';\n\nconst User = () => {\n  const navigate = useNavigate();\n  // Call useUserContext to remove de token to end the session\n  const { logout, user } = useUserContext();\n  const role = user.role;\n  const username = user.username;\n\n  const onLogOutHandler = () => {\n    logout();\n    // Session ends\n    navigate('/login');\n  };\n\n  return (\n    // html and design\n    <main className=\"bg-indigo-900 h-screen\">\n      <header className={classes.dCenter}>\n        <h1 className=\"text-3xl lg:text-3xl font-extrabold text-gray-300 text-center pb-4 mt-8\">\n          Perfil\n        </h1>\n        <div className={classes.returnSection}>\n          <Link to=\"/feed\">\n            <MdOutlineArrowBackIosNew className={classes.iconReturn} />\n          </Link>\n        </div>\n      </header>\n      <div className={`h-screen ${classes.userPage}`}>\n        <h2 className=\"text-4xl lg:text-4xl font-extrabold text-gray-300 text-center pb-4 mt-8\">\n          Bienvenido!\n        </h2>\n        <h3>{username}</h3>\n      </div>\n      <div className={classes.logOut}>\n        {role === 'admin' ? (\n          <Link\n            to=\"/myposts\"\n            className={`rounded-lg mx-2 ${classes.ownPostsButton}`}\n          >\n            Mis posts\n          </Link>\n        ) : (\n          ''\n        )}\n        <button\n          type=\"button\"\n          className={`rounded-lg mx-2 ${classes.logOutButton}`}\n          onClick={() => onLogOutHandler()}\n        >\n          Cerrar sesi칩n\n        </button>\n      </div>\n    </main>\n  );\n};\n\nexport default User;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n// import { getPostById, useGetFavorite, setNewFavorite } from '../services/Posts.services';\n\nconst Test = () => {\n\n //  const token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MThjNTIwMzRjZmQ3MDRhZTMzN2Q1OGYiLCJpYXQiOjE2MzcxNjkxNTcsImV4cCI6MTYzODM3ODc1N30.uwvMirGrbvcFBWjxqooJ1s-gFOLyYfbJJk-7_JTVFck';\n\n  const testFunction = async () => {\n    // setNewFavorite(token,'619820e4092d9bf1f4b41d09'); \n    console.log(\"hola\");\n    // getFavoritePosts(token);\n    // getPostById(token, '619820e4092d9bf1f4b41d09');\n  }\n\n  return (\n    <div className=\"flex justify-center flex-col\">\n      <h1 className=\"font-thin text-2xl\">\n        This is a test, you are reading Test.js file\n      </h1>\n      <Link to=\"/\" className=\"text-blue-700\">\n        Switch test\n      </Link>\n\n      <button type=\"button\" onClick={() => { testFunction()}}>TEST</button>\n    </div>\n  );\n};\n\nexport default Test;\n","export default __webpack_public_path__ + \"static/media/error.1704b193.png\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport ErrorFlork from '../assets/img/error.png';\n\nconst Error = () => {\n  return (\n    <div className=\"flex flex-col justify-center items-center w-screen h-screen bg-white\">\n      <div className=\"w-1/2 lg:w-1/2 flex justify-center items-center\">\n        <img\n          alt=\"error-flork-img\"\n          className=\"w-full lg:w-1/2\"\n          src={ErrorFlork}\n        />\n      </div>\n      <h1 className=\"uppercase text-2xl lg:text-5xl font-extrabold text-red-800 text-center p-4\">\n        ERROR 404... Page not found\n      </h1>\n      <Link\n        to=\"/\"\n        className=\"rounded-lg mx-2 p-4 text-center text-white bg-blue-800 hover:bg-blue-600\"\n      >\n        Regresar\n      </Link>\n    </div>\n  );\n};\n\nexport default Error;\n","import { BiWorld, BiBookmark, BiPlus } from 'react-icons/bi';\nimport classes from './Feed.module.css';\n\nconst Footer = ({ changeTab = () => {}, role, setIsNewPost }) => {\n  return (\n    // html and design\n\n    <footer className=\"bg-gray-800\">\n      <button onClick={() => changeTab(1)}>\n        <BiWorld className={classes.icons} />\n      </button>\n      {role === 'user' ? (\n        ''\n      ) : (\n        <button\n          onClick={() => {\n            setIsNewPost(true);\n          }}\n        >\n          <BiPlus className={classes.icons} />\n        </button>\n      )}\n      <button onClick={() => changeTab(2)}>\n        <BiBookmark className={classes.icons} />\n      </button>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React, { useEffect, useState } from 'react';\nimport './card.css';\n\nimport {\n  BiHeart,\n  BiBookmark,\n  BiUserCircle,\n  BiComment,\n  BiPencil,\n  BiBlock,\n} from 'react-icons/bi';\n\nconst Card = ({\n  _id,\n  title,\n  description,\n  image,\n  user,\n  likes,\n  active,\n  comments,\n  setComments,\n  setEdit,\n  localData,\n  role,\n  username,\n  isMyPost,\n  addNewLike = () => {},\n  addNewFav = () => {},\n  addStatus = () => {},\n  currentuser,\n}) => {\n  const [isMine, setIsMine] = useState(false);\n  const [isReadMore, setIsReadMore] = useState(false);\n  const postComments = comments.filter((x) => x.user !== undefined);\n\n  const setNewFav = () => {\n    addNewFav();\n  };\n\n  useEffect(() => {\n    likes.forEach((user) => {\n      if (user.username === currentuser) {\n        setIsMine(true);\n      }\n    });\n  }, [likes, currentuser]);\n\n  const handleLike = () => {\n    addNewLike(isMine);\n    setIsMine(!isMine);\n  };\n\n  return (\n    // html and design\n    <div className=\"square bg-gray-800 rounded-3xl\">\n      {_id !== localData.id ? (\n        <>\n          <div className=\"flex p-4\">\n            <BiUserCircle className=\"user-icon mr-2\" />\n\n            <h3 className=\"text-white\">{user.username}</h3>\n          </div>\n          <div className=\"flex justify-center items-center w-11/12 h-72 sm:h-96 mx-auto\">\n            <img src={image} className=\"card-img\" alt={title} />\n          </div>\n          <div className=\"flex flex-col items-center p-4 pb-4\">\n            <p className=\"text-white font-thin text-3xl w-b\">{title}</p>\n            <h2 className=\"text-gray-300 w-b\">\n              {description.length > 200\n                ? isReadMore\n                  ? `${description} `\n                  : `${description.substring(0, 100)}... `\n                : description}\n              {description.length > 200 ? (\n                <button\n                  className=\"text-blue-400\"\n                  onClick={() => setIsReadMore(!isReadMore)}\n                >\n                  {isReadMore ? 'leer menos' : 'leer m치s'}\n                </button>\n              ) : (\n                ''\n              )}\n            </h2>\n          </div>\n        </>\n      ) : (\n        <>\n          <div className=\"flex p-4\">\n            <BiUserCircle className=\"user-icon mr-2\" />\n\n            <h3 className=\"text-white\">{user.username}</h3>\n          </div>\n          <div className=\"flex justify-center items-center w-11/12 h-72 sm:h-96 mx-auto\">\n            <img\n              src={localData.url}\n              className=\"card-img\"\n              alt={localData.title}\n            />\n          </div>\n          <div className=\"flex flex-col items-center p-4 pb-4\">\n            <p className=\"text-white font-thin text-3xl w-b\">\n              {localData.title}\n            </p>\n            <h2 className=\"text-gray-300 w-b\">\n              {localData.desc.length > 200\n                ? isReadMore\n                  ? `${localData.desc} `\n                  : `${localData.desc.substring(0, 100)}... `\n                : localData.desc}\n              {localData.desc.length > 200 ? (\n                <button\n                  className=\"text-blue-400\"\n                  onClick={() => setIsReadMore(!isReadMore)}\n                >\n                  {isReadMore ? 'leer menos' : 'leer m치s'}\n                </button>\n              ) : (\n                ''\n              )}\n            </h2>\n          </div>\n        </>\n      )}\n\n      <div className=\"flex justify-end px-4 pb-4\">\n        {(role === 'admin' && username === user.username) ||\n        (role === 'admin' && username === user.username && isMyPost) ? (\n          <>\n            <div className=\"flex\">\n              <button\n                onClick={() =>\n                  setEdit({\n                    isEdit: true,\n                    postId: _id,\n                    postTitle: title,\n                    postDesc: description,\n                    postImg: image,\n                  })\n                }\n              >\n                <BiPencil className=\"card-icons edit-icon mx-2\" />\n              </button>\n            </div>\n            <div className=\"flex\">\n              <button\n                onClick={() => {\n                  addStatus(active);\n                }}\n              >\n                <BiBlock\n                  className={`card-icons block-icon mx-2 ${\n                    active ? '' : 'icon-filled'\n                  }`}\n                />\n              </button>\n            </div>\n          </>\n        ) : (\n          ''\n        )}\n        {isMyPost ? (\n          ''\n        ) : (\n          <>\n            <div className=\"flex\">\n              {likes.length > 0 ? (\n                <p className=\"text-white\">{likes.length}</p>\n              ) : (\n                ''\n              )}\n              <button\n                onClick={() => {\n                  handleLike();\n                }}\n              >\n                <BiHeart\n                  className={`card-icons heart-icon mx-2 ${\n                    isMine && 'icon-filled'\n                  }`}\n                />\n              </button>\n            </div>\n            <div className=\"flex\">\n              {postComments.length > 0 ? (\n                <p className=\"text-white\">{postComments.length}</p>\n              ) : (\n                ''\n              )}\n              <button\n                onClick={() => {\n                  setComments({ isComments: true, postId: `${_id}` });\n                }}\n              >\n                <BiComment className=\"card-icons comment-icon mx-2\" />\n              </button>\n            </div>\n            <div className=\"flex\">\n              <button\n                onClick={() => {\n                  setNewFav();\n                }}\n              >\n                <BiBookmark className=\"card-icons bookmark-icon ml-2\" />\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://posts-pw2021.herokuapp.com/api/v1';\n\nexport const getAllPosts = async (token, page = 0) => {\n  let response = undefined;\n  try {\n    const posts = await axios({\n      method: 'GET',\n      baseURL: BASE_URL,\n      url: `/post/all?limit=10&page=${page}`,\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n\n    if (posts) {\n      // console.log(posts.data.data);\n      response = posts.data.data;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n\n  return { isLoading: false, posts: response ?? [] };\n};\n\nexport const getMyPosts = async (token, page = 0) => {\n  let response = undefined;\n  try {\n    const posts = await axios({\n      method: 'GET',\n      baseURL: BASE_URL,\n      url: `/post/owned?limit=3&page=${page}`,\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n\n    if (posts) {\n      // console.log(posts.data.data);\n      response = posts.data.data;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n\n  return { isLoading: false, posts: response ?? [] };\n};\n\n/* one post */\n\nexport const getOnePost = async (token, id) => {\n  let response = undefined;\n  try {\n    response = await axios({\n      method: 'GET',\n      baseURL: BASE_URL,\n      url: `/post/one/${id}`,\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n\n    if (response) {\n      response = response.data;\n    }\n  } catch (error) {\n    console.log(error);\n  } finally {\n    return response;\n  }\n};\n\n/* Favorite posts */\n\nconst getFavoritesIds = async (token) => {\n  let response = undefined;\n  try {\n    const posts = await axios({\n      method: 'GET',\n      baseURL: BASE_URL,\n      url: '/post/fav',\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n\n    if (posts) {\n      response = posts.data.favorites;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n\n  return response ?? [];\n};\n\nexport const getFavorites = async (token) => {\n  const id_array = await getFavoritesIds(token);\n  const promisesArray = id_array.map((id) => getOnePost(token, id));\n  const results = await Promise.all(promisesArray);\n\n  return { isLoading: false, posts: results ?? [] };\n};\n\nexport const setNewFavorite = async (token, id) => {\n  let response = undefined;\n  try {\n    response = await axios({\n      method: 'PATCH',\n      baseURL: BASE_URL,\n      url: `/post/fav/${id}`,\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n  } catch (error) {\n    console.log(error);\n  } finally {\n    return response;\n  }\n};\n\n/* Like posts */\n\nexport const setNewLike = async (token, id) => {\n  let response = undefined;\n  try {\n    response = await axios({\n      method: 'PATCH',\n      baseURL: BASE_URL,\n      url: `/post/like/${id}`,\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n  } catch (error) {\n    console.log(error);\n  } finally {\n    return response;\n  }\n};\n\n// Comment Posts\nexport const setNewComment = async (token, id, message) => {\n  let response = undefined;\n  try {\n    response = await axios({\n      method: 'PATCH',\n      baseURL: BASE_URL,\n      url: `/post/comment/${id}`,\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${token}`,\n      },\n      data: {\n        description: `${message}`,\n      },\n    });\n  } catch (error) {\n    console.log(error);\n  } finally {\n    return response;\n  }\n};\n\n// Create posts\nexport const setNewPost = async (token, title, desc, image) => {\n  let response = undefined;\n  try {\n    response = await axios({\n      method: 'POST',\n      baseURL: BASE_URL,\n      url: '/post/create',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${token}`,\n      },\n      data: {\n        title: `${title}`,\n        description: `${desc}`,\n        image: `${image}`,\n      },\n    });\n  } catch (error) {\n    console.log(error);\n  } finally {\n    return response;\n  }\n};\n\n// Enable/disable posts\nexport const setStatusPost = async (token, id) => {\n  let response = undefined;\n  try {\n    response = await axios({\n      method: 'PATCH',\n      baseURL: BASE_URL,\n      url: `/post/toggle/${id}`,\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    });\n  } catch (error) {\n    console.log(error);\n  } finally {\n    return response;\n  }\n};\n\n// Edit posts\nexport const editPost = async (token, id, title, desc, image) => {\n  let response = undefined;\n  try {\n    response = await axios({\n      method: 'PUT',\n      baseURL: BASE_URL,\n      url: `/post/update/${id}`,\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${token}`,\n      },\n      data: {\n        title: `${title}`,\n        description: `${desc}`,\n        image: `${image}`,\n      },\n    });\n  } catch (error) {\n    console.log(error);\n  } finally {\n    return response;\n  }\n};\n","import React from 'react';\nimport { BiUserCircle } from 'react-icons/bi';\n\nconst Comment = ({ user, description }) => {\n  return (\n    <div className=\"m-4 border border-indigo-900 rounded-3xl\">\n      <div className=\"flex p-4\">\n        <BiUserCircle className=\"user-icon mr-2\" />\n        <p className=\"text-white\">{user.username}</p>\n      </div>\n      <p className=\"text-white mx-4 mb-4\">{description}</p>\n    </div>\n  );\n};\n\nexport default Comment;\n","import React, { useState } from 'react';\nimport './Comments.css';\nimport { useUserContext } from '../../Context/UserContext';\nimport { FaTimes } from 'react-icons/fa';\nimport { setNewComment } from '../../services/Posts.services';\nimport { BiCommentX, BiCommentEdit } from 'react-icons/bi';\nimport Comment from '../Comment/Comment';\n\nconst Comments = ({\n  comments,\n  setComments,\n  posts,\n  setAlertModal,\n  cleanAlert,\n}) => {\n  const { token, user } = useUserContext();\n  const newPost = posts.find((post) => post._id === comments.postId);\n  const postComments = newPost.comments.filter(\n    (x) => x.user || x.description || x._id !== undefined\n  );\n  const [message, setMessage] = useState('');\n\n  const addCommentHandler = async () => {\n    if (message.length >= 8) {\n      const response = await setNewComment(token, newPost._id, message);\n\n      if (response.statusText === 'OK') {\n        newPost.comments.push({\n          description: message,\n          user: { username: user.username },\n          _id: new Date(),\n        });\n\n        setAlertModal({\n          isAlert: true,\n          message: 'Has comentado en este post',\n          type: 'bg-green-400',\n        });\n\n        setTimeout(() => {\n          cleanAlert();\n        }, 5000);\n      }\n\n      setMessage('');\n    } else {\n      setAlertModal({\n        isAlert: true,\n        message: 'El comentario debe tener al menos 8 caracteres',\n        type: 'bg-red-400',\n      });\n\n      setTimeout(() => {\n        cleanAlert();\n      }, 5000);\n    }\n  };\n\n  return (\n    <div className=\"comment-card w-full bg-gray-800 rounded-3xl absolute z-40\">\n      <div className=\"flex flex-nowrap title-container justify-between\">\n        <div className=\"m-4\"></div>\n        <p className=\"text-white font-thin text-3xl m-4 self-center\">\n          Comentarios\n        </p>\n        <button\n          className=\"m-8\"\n          onClick={() => {\n            setComments({ isComments: false, postId: '' });\n          }}\n        >\n          <FaTimes className=\"comments-icons\" />\n        </button>\n      </div>\n\n      {postComments.length === 0 ? (\n        <div className=\"flex flex-col justify-center items-center comments-container\">\n          <BiCommentX className=\"no-comments-icon\" />\n          <p className=\"text-white\">No hay comentarios.</p>\n        </div>\n      ) : (\n        <div className=\"flex flex-col comments-container\">\n          {postComments.map((comment) => {\n            return <Comment key={comment._id} {...comment} />;\n          })}\n        </div>\n      )}\n      <div className=\"flex input-container\">\n        <input\n          className=\"comment-input ml-auto my-auto p-4 rounded-3xl\"\n          placeholder=\"Escribe un mensaje...\"\n          type=\"text\"\n          value={message}\n          onChange={(e) => {\n            setMessage(e.target.value);\n          }}\n        />\n        <button\n          className=\"m-auto\"\n          onClick={() => {\n            addCommentHandler();\n          }}\n        >\n          <BiCommentEdit className=\"new-comment-icon\" />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Comments;\n","import React, { useState } from 'react';\nimport { FaTimes } from 'react-icons/fa';\nimport { useUserContext } from '../../Context/UserContext';\nimport { editPost } from '../../services/Posts.services';\nimport './EditPost.css';\n\nconst EditPost = ({\n  edit,\n  setEdit,\n  setAlertModal,\n  cleanAlert,\n  setLocalData,\n  localData,\n}) => {\n  const [imageUrl, setImageUrl] = useState(edit.postImg);\n  const [postTitle, setPostTitle] = useState(edit.postTitle);\n  const [postDesc, setPostDesc] = useState(edit.postDesc);\n  const { token } = useUserContext();\n\n  const editPostHandler = async () => {\n    if (postDesc.length >= 8 && postTitle.length >= 8) {\n      await editPost(token, edit.postId, postTitle, postDesc, imageUrl);\n\n      setLocalData({\n        id: edit.postId,\n        url: imageUrl,\n        title: postTitle,\n        desc: postDesc,\n      });\n\n      setEdit({\n        isEdit: false,\n        postId: '',\n        postTitle: '',\n        postDesc: '',\n        postImg: '',\n      });\n      setImageUrl('');\n      setPostDesc('');\n      setPostTitle('');\n    } else {\n      setAlertModal({\n        isAlert: true,\n        message: 'La descripcion y titulo deben tener al menos 8 caracteres.',\n        type: 'bg-red-400',\n      });\n\n      setTimeout(() => {\n        cleanAlert();\n      }, 2000);\n    }\n  };\n\n  return (\n    <div className=\"add-card w-full bg-gray-800 rounded-3xl absolute z-40\">\n      <div className=\"flex flex-nowrap title-container justify-between\">\n        <div className=\"m-4\"></div>\n        <p className=\"text-5xl lg:text-5xl font-extrabold text-gray-300 text-center pb-4 mt-10\">\n          Editar Post\n        </p>\n        <button\n          className=\"m-8\"\n          onClick={() => {\n            setEdit({\n              isEdit: false,\n              postId: '',\n              postTitle: '',\n              postDesc: '',\n              postImg: '',\n            });\n            setImageUrl('');\n            setPostDesc('');\n            setPostTitle('');\n          }}\n        >\n          <FaTimes className=\"add-icons\" />\n        </button>\n      </div>\n      <div className=\"new-input-container flex flex-col m-8 items-center\">\n        <div className={`image-verifier ${imageUrl !== '' ? '' : 'p-2'}`}>\n          {imageUrl !== '' ? (\n            <img src={imageUrl} className=\"add-image\" alt=\"Esperando imagen\" />\n          ) : (\n            ''\n          )}\n        </div>\n        <form className=\"w-full flex flex-col items-center justify-center\">\n          <div className=\"my-2 sm:w-1/2\">\n            <h1 className=\"input-label my-2 text-white\">\n              Ingresa la URL de tu imagen:\n            </h1>\n            <input\n              className=\"input-element w-full px-4 py-2 rounded-3xl\"\n              placeholder=\"p. ej. www.unsplash.com/\"\n              type=\"text\"\n              value={imageUrl}\n              onChange={(e) => {\n                setImageUrl(e.target.value);\n              }}\n            />\n          </div>\n          <div className=\"my-2 sm:w-1/2\">\n            <h1 className=\"input-label my-2 text-white\">\n              Ingresa un titulo para tu post:\n            </h1>\n            <input\n              className=\"input-element w-full px-4 py-2 rounded-3xl\"\n              placeholder=\"p. ej. hoy es un dia soleado...\"\n              type=\"text\"\n              value={postTitle}\n              onChange={(e) => {\n                setPostTitle(e.target.value);\n              }}\n            />\n          </div>\n          <div className=\"my-2 sm:w-1/2\">\n            <h1 className=\"input-label my-2 text-white\">\n              Ingresa la descripcion de tu post:\n            </h1>\n            <input\n              className=\"input-element w-full px-4 py-2 rounded-3xl\"\n              placeholder=\"p. ej. deberia llover mas tarde...\"\n              type=\"text\"\n              value={postDesc}\n              onChange={(e) => {\n                setPostDesc(e.target.value);\n              }}\n            />\n          </div>\n          <div className=\"flex\">\n            <button\n              type=\"button\"\n              className=\"rounded-2xl px-4 py-2 m-8 bg-indigo-900 text-white\"\n              onClick={() => editPostHandler()}\n            >\n              Editar Post\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default EditPost;\n","import React, { useState } from 'react';\nimport './AddPost.css';\nimport { FaTimes } from 'react-icons/fa';\nimport { setNewPost } from '../../services/Posts.services';\nimport { useUserContext } from '../../Context/UserContext';\n\nconst AddPost = ({ setIsNewPost, setAlertModal, cleanAlert, newPostAdded = () => {} }) => {\n  const { token } = useUserContext();\n  const [title, setTitle] = useState('');\n  const [desc, setDesc] = useState('');\n  const [image, setImage] = useState('');\n  const [imageUrl, setImageUrl] = useState('');\n\n  const addPostHandler = async () => {\n    if (desc.length >= 8 && title.length >= 8) {\n      const response = await setNewPost(token, title, desc, image);\n\n      if (response.statusText === 'Created') {\n        setIsNewPost(false);\n        setTitle('');\n        setImage('');\n        setDesc('');\n  \n        newPostAdded();\n      } else {\n        setAlertModal({\n          isAlert: true,\n          message: 'Error, intentalo de nuevo m치s tarde!',\n          type: 'bg-red-400',\n        });\n  \n        setTimeout(() => {\n          cleanAlert();\n        }, 2000);\n      }\n    } else {\n      setAlertModal({\n        isAlert: true,\n        message: 'La descripcion y titulo deben tener al menos 8 caracteres.',\n        type: 'bg-red-400',\n      });\n\n      setTimeout(() => {\n        cleanAlert();\n      }, 2000);\n    }\n  };\n\n  const changeImageHandler = () => {\n    if (image !== '') {\n      setImageUrl(image);\n    } else {\n      setAlertModal({\n        isAlert: true,\n        message: 'Introduce una URL para tu post.',\n        type: 'bg-red-400',\n      });\n\n      setTimeout(() => {\n        cleanAlert();\n      }, 2000);\n    }\n  };\n\n  return (\n    <div className=\"add-card w-full bg-gray-800 rounded-3xl absolute z-40\">\n      <div className=\"flex flex-nowrap title-container justify-between\">\n        <div className=\"m-4\"></div>\n        <p className=\"text-5xl lg:text-5xl font-extrabold text-gray-300 text-center pb-4 mt-10\">\n          Nuevo Post\n        </p>\n        <button\n          className=\"m-8\"\n          onClick={() => {\n            setIsNewPost(false);\n          }}\n        >\n          <FaTimes className=\"add-icons\" />\n        </button>\n      </div>\n      <div className=\"new-input-container flex flex-col m-8 items-center\">\n        <div className={`image-verifier ${imageUrl !== '' ? '' : 'p-2'}`}>\n          {imageUrl !== '' ? (\n            <img src={imageUrl} className=\"add-image\" alt=\"Esperando imagen\" />\n          ) : (\n            ''\n          )}\n        </div>\n        <form className=\"w-full flex flex-col items-center justify-center\">\n          <div className=\"my-2 sm:w-1/2\">\n            <h1 className=\"input-label my-2 text-white\">\n              Ingresa la URL de tu imagen:\n            </h1>\n            <input\n              className=\"input-element w-full px-4 py-2 rounded-3xl\"\n              placeholder=\"p. ej. www.unsplash.com/\"\n              type=\"text\"\n              value={image}\n              onChange={(e) => {\n                setImage(e.target.value);\n              }}\n            />\n          </div>\n          <div className=\"my-2 sm:w-1/2\">\n            <h1 className=\"input-label my-2 text-white\">\n              Ingresa un titulo para tu post:\n            </h1>\n            <input\n              className=\"input-element w-full px-4 py-2 rounded-3xl\"\n              placeholder=\"p. ej. hoy es un dia soleado...\"\n              type=\"text\"\n              value={title}\n              onChange={(e) => {\n                setTitle(e.target.value);\n              }}\n            />\n          </div>\n          <div className=\"my-2 sm:w-1/2\">\n            <h1 className=\"input-label my-2 text-white\">\n              Ingresa la descripcion de tu post:\n            </h1>\n            <input\n              className=\"input-element w-full px-4 py-2 rounded-3xl\"\n              placeholder=\"p. ej. deberia llover mas tarde...\"\n              type=\"text\"\n              value={desc}\n              onChange={(e) => {\n                setDesc(e.target.value);\n              }}\n            />\n          </div>\n          <div className=\"flex\">\n            <button\n              type=\"button\"\n              onClick={() => {\n                changeImageHandler();\n              }}\n              className=\"rounded-2xl px-4 py-2 m-8 bg-indigo-900 text-white\"\n            >\n              Verificar imagen\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => {\n                addPostHandler();\n              }}\n              className=\"rounded-2xl px-4 py-2 m-8 bg-indigo-900 text-white\"\n            >\n              Crear Post\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AddPost;\n","import './Loading.css';\n\nconst Loading = () => {\n  return (\n    // <div className=\"flex items-center justify-center space-x-2 my-2 mb-4 animate-pulse\">\n    //   <div className=\"w-5 h-5 bg-blue-400 rounded-full\"></div>\n    //   <div className=\"w-5 h-5 bg-blue-400 rounded-full\"></div>\n    //   <div className=\"w-5 h-5 bg-blue-400 rounded-full\"></div>\n    // </div>\n    <div className=\"square flex p-4 flex-col bg-blue-400 rounded-3xl animate-pulse\">\n      <div className=\"bg-indigo-900 ml-4 my-2 w-1/5 h-5\"></div>\n      <div className=\"bg-indigo-900 mx-auto my-2 w-11/12 h-52\"></div>\n      <div className=\"bg-indigo-900 ml-4 my-2 w-3/5 h-5\"></div>\n      <div className=\"bg-indigo-900 ml-4 my-2 w-4/5 h-5\"></div>\n    </div>\n  );\n};\n\nexport default Loading;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useUserContext } from '../../Context/UserContext';\nimport Footer from './Footer';\nimport { BiUserCircle } from 'react-icons/bi';\nimport classes from './Feed.module.css';\nimport Card from '../../components/Card/Card';\nimport {\n  getAllPosts,\n  getFavorites,\n  setNewLike,\n  setNewFavorite,\n  setStatusPost,\n} from '../../services/Posts.services';\nimport Comments from '../../components/Comments/Comments';\nimport EditPost from '../../components/EditPost/EditPost';\nimport AddPost from '../../components/AddPost/AddPost';\nimport Loading from '../../components/Loading/Loading';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nconst Feed = () => {\n  const { token, user } = useUserContext();\n  const role = user.role;\n  const username = user.username;\n  // temp token log\n  // const username = 'gp3_user@test.com';\n  // const password = 'IMeFecQn7IVA3eeH';\n\n  // temp admin token log\n  // const username = 'gp3_admin@test.com';\n  // const password = 'DRFdQpXsxhB7ESFl';\n\n  // const { posts, isLoading } = useGetFavorites(token);\n  const [posts, setPosts] = useState([]);\n  const [tab, setTab] = useState(1);\n  const [page, setPage] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [comments, setComments] = useState({ isComments: false, postId: '' });\n  const [localData, setLocalData] = useState({\n    id: '',\n    url: '',\n    title: '',\n    desc: '',\n  });\n  const [edit, setEdit] = useState({\n    isEdit: false,\n    postId: '',\n    postTitle: '',\n    postDesc: '',\n    postImg: '',\n  });\n  const [alertModal, setAlertModal] = useState({\n    isAlert: false,\n    message: '',\n    type: '',\n  });\n\n  // TO CHANGE ON ADMIN FEED\n  const [isNewPost, setIsNewPost] = useState(false);\n\n  const getData = useCallback(async () => {\n    console.log('Obteniendo posts: page', page);\n    setIsLoading(true);\n    let extraTime = 1500;\n    let response = {};\n    if (tab === 1) {\n      response = await getAllPosts(token, page);\n      // Extra timeout -> used to see loading dots\n      setTimeout(() => {\n        // to avoid errors in .map is needed to remove all undefined responses\n        response.posts = response.posts.filter((x) => x !== undefined);\n        setPosts((prevPosts) => {\n          return [...prevPosts, ...response.posts];\n        });\n        setIsLoading(response.isLoading);\n      }, extraTime);\n    } else {\n      response = await getFavorites(token);\n      setTimeout(() => {\n        response.posts = response.posts.filter((x) => x !== undefined);\n        setPosts(response.posts);\n        setIsLoading(response.isLoading);\n      }, extraTime);\n    }\n  }, [tab, page, token]);\n\n  useEffect(() => {\n    getData();\n  }, [getData]);\n\n  const cleanAlert = () => {\n    setAlertModal({ isAlert: false, icon: '', message: '', type: '' });\n  };\n\n  const addStatusHandler = async (id) => {\n    let response = await setStatusPost(token, id);\n    if (response.statusText === 'OK') {\n      setAlertModal({\n        isAlert: true,\n        message: 'Has cambiado el estado de este post',\n        type: 'bg-green-400',\n      });\n\n      setTimeout(() => {\n        cleanAlert();\n      }, 2000);\n    }\n  };\n\n  const addNewLikeHandler = async (id, isMine) => {\n    let response = await setNewLike(token, id);\n    if (response.statusText === 'OK') {\n      setPosts((prevPosts) => {\n        let index = prevPosts.findIndex((x) => x._id === id);\n        if (isMine) {\n          let subIndex = prevPosts[index].likes.findIndex(\n            (x) => x.username === user.username\n          );\n          // console.log(\"Eliminando like\");\n          prevPosts[index].likes.splice(subIndex, 1);\n        } else {\n          prevPosts[index].likes.push({ username: user.username });\n          // console.log(\"Dando like\");\n        }\n\n        return prevPosts;\n      });\n\n      let msg = isMine ? 'Has removido tu like' : 'Has dado like';\n      setAlertModal({\n        isAlert: true,\n        message: msg,\n        type: 'bg-green-400',\n      });\n\n      setTimeout(() => {\n        cleanAlert();\n      }, 2000);\n    }\n  };\n\n  const addNewFavHandler = async (id) => {\n    let response = await setNewFavorite(token, id);\n    if (response.statusText === 'OK') {\n      setAlertModal({\n        isAlert: true,\n        message: 'Has guardado como favorito',\n        type: 'bg-green-400',\n      });\n\n      setTimeout(() => {\n        cleanAlert();\n      }, 2000);\n    }\n  };\n\n  const changeTabHandler = (newtab) => {\n    setPosts([]);\n    // if still in the same tab -> update section posts\n    if (tab === newtab && page === 0) {\n      getData();\n    } else {\n      // if tab changed move to page 0\n      setPage(0);\n      setTab(newtab);\n    }\n  };\n\n  const newPostAddedHandler = () => {\n    changeTabHandler(1);\n  };\n\n  return (\n    // html and design\n    <main className=\"bg-indigo-900 h-screen\">\n      <header className={classes.dCenter}>\n        <h1 className=\"text-3xl lg:text-3xl font-extrabold text-gray-300 text-center pb-4 mt-8\">\n          Photogenix\n        </h1>\n        <div className={classes.userSection}>\n          <Link to=\"/user\">\n            <BiUserCircle className={classes.iconUser} />\n          </Link>\n        </div>\n      </header>\n      <div id=\"scrollable\" className={classes.posts}>\n        {/* alert modal */}\n        {alertModal.isAlert ? (\n          <div\n            className={`flex py-2 px-8 w-5/6 alert-card rounded-3xl z-50 ${classes.alertCard} ${alertModal.type}`}\n          >\n            <p className=\"mx-4 text-white\">{alertModal.message}</p>\n          </div>\n        ) : (\n          ''\n        )}\n\n        <InfiniteScroll\n          dataLength={posts.length}\n          next={() => setPage(page + 1)}\n          hasMore={true}\n          scrollableTarget=\"scrollable\"\n        >\n          {posts.map((post) => {\n            return (\n              <Card\n                key={post._id}\n                {...post}\n                setComments={setComments}\n                localData={localData}\n                setEdit={setEdit}\n                addNewLike={(isMine) => addNewLikeHandler(post._id, isMine)}\n                addNewFav={() => addNewFavHandler(post._id)}\n                addStatus={() => addStatusHandler(post._id)}\n                role={role}\n                username={username}\n                currentuser={user.username}\n              />\n            );\n          })}\n        </InfiniteScroll>\n        {isLoading ? <Loading /> : ''}\n\n        {comments.isComments ? (\n          <Comments\n            comments={comments}\n            posts={posts}\n            setComments={setComments}\n            setAlertModal={setAlertModal}\n            cleanAlert={cleanAlert}\n          />\n        ) : (\n          ''\n        )}\n        {edit.isEdit ? (\n          <EditPost\n            edit={edit}\n            setLocalData={setLocalData}\n            setEdit={setEdit}\n            setAlertModal={setAlertModal}\n            cleanAlert={cleanAlert}\n          />\n        ) : (\n          ''\n        )}\n        {isNewPost ? (\n          <AddPost\n            setIsNewPost={setIsNewPost}\n            setAlertModal={setAlertModal}\n            cleanAlert={cleanAlert}\n            newPostAdded={() => newPostAddedHandler()}\n          />\n        ) : (\n          ''\n        )}\n      </div>\n      <Footer\n        changeTab={(tab) => changeTabHandler(tab)}\n        role={role}\n        setIsNewPost={setIsNewPost}\n      />\n    </main>\n  );\n};\n\nexport default Feed;\n","import { useUserContext } from '../../Context/UserContext';\nimport { Navigate } from 'react-router-dom';\n/*import sad from '../../assets/img/error.jpg'*/\n\n/* !!Login always redict to Feed, but the Feed will rederize depending on the role!! */\nconst rolePages = {\n  admin: '/admin',\n  user: '/feed',\n};\n\nconst RedirectUser = () => {\n  const { user } = useUserContext();\n\n  if (!user)\n    return (\n      \n      <div className=\"flex flex-col justify-center items-center w-screen h-screen bg-white\">\n        <p className=\"text-lg font-medium text-gray-800 text-center p-8\">\n          {' '}\n          Redireccionando... No se puede redireccionar{' '}\n        </p>\n        {/* <div className=\"w-1/2 lg:w-1/2 flex justify-center items-center\">\n      <img className=\"w-1/2\" src={sad} />\n    </div> */}\n      </div>\n    );\n\n  return <Navigate replace to={rolePages.user ?? '/'} />;\n};\n\nexport default RedirectUser;\n","import { useUserContext } from '../../Context/UserContext';\nimport { Navigate } from 'react-router-dom';\n\nconst PrivateRoute = ({ role = 'user', children }) => {\n  const { token } = useUserContext();\n\n  if (!token) return <Navigate replace to=\"/login\" />;\n  // if(!user || user.role !== role) return <Navigate replace to=\"/*\"/>;\n\n  return children;\n};\n\nexport default PrivateRoute;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { BiHome } from 'react-icons/bi';\nimport classes from './MyPosts.module.css';\nimport Card from '../../components/Card/Card';\nimport EditPost from '../../components/EditPost/EditPost';\nimport { getMyPosts, setStatusPost } from '../../services/Posts.services';\nimport { useUserContext } from '../../Context/UserContext';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport Loading from '../../components/Loading/Loading';\n\nconst MyPosts = () => {\n  const [posts, setPosts] = useState([]);\n  const [page, setPage] = useState(0);\n  const [localData, setLocalData] = useState({\n    id: '',\n    url: '',\n    title: '',\n    desc: '',\n  });\n  const { token, user } = useUserContext();\n  const role = user.role;\n  const username = user.username;\n  const isMyPost = true;\n  const [isLoading, setIsLoading] = useState(true);\n  const [alertModal, setAlertModal] = useState({\n    isAlert: false,\n    message: '',\n    type: '',\n  });\n  const [edit, setEdit] = useState({\n    isEdit: false,\n    postId: '',\n    postTitle: '',\n    postDesc: '',\n    postImg: '',\n  });\n\n  const getData = useCallback(async () => {\n    console.log('Obteniendo posts: page', page);\n    setIsLoading(true);\n    let extraTime = 1500;\n    let response = {};\n    try {\n      response = await getMyPosts(token, page);\n\n      setTimeout(() => {\n        setPosts((prevPosts) => {\n          return [...prevPosts, ...response.posts];\n        });\n        setIsLoading(response.isLoading);\n      }, extraTime);\n    } catch (error) {\n      console.log(error);\n    }\n  }, [token, page]);\n\n  useEffect(() => {\n    getData();\n  }, [getData]);\n\n  const cleanAlert = () => {\n    setAlertModal({ isAlert: false, icon: '', message: '', type: '' });\n  };\n\n  const addStatusHandler = async (id, status) => {\n    let response = await setStatusPost(token, id);\n    if (response.statusText === 'OK') {\n      setPosts((prevPosts) => {\n        let index = prevPosts.findIndex((x) => x._id === id);\n        prevPosts[index].active = !status;\n\n        return prevPosts;\n      });\n\n      setAlertModal({\n        isAlert: true,\n        message: 'Has cambiado el estado de este post',\n        type: 'bg-green-400',\n      });\n\n      setTimeout(() => {\n        cleanAlert();\n      }, 2000);\n    }\n  };\n\n  return (\n    <main className=\"bg-indigo-900 h-screen\">\n      <header className={classes.dCenter}>\n        <h1 className=\"text-3xl lg:text-3xl font-extrabold text-gray-300 text-center pb-4 mt-8\">\n          Mis Posts\n        </h1>\n        <div className={classes.userSection}>\n          <Link to=\"/feed\">\n            <BiHome className={classes.iconUser} />\n          </Link>\n        </div>\n      </header>\n      <div id=\"scrollable\" className={classes.posts}>\n        {alertModal.isAlert ? (\n          <div\n            className={`flex py-2 px-8 w-5/6 alert-card rounded-3xl z-50 ${classes.alertCard} ${alertModal.type}`}\n          >\n            <p className=\"mx-4 text-white\">{alertModal.message}</p>\n          </div>\n        ) : (\n          ''\n        )}\n        <InfiniteScroll\n          dataLength={posts.length}\n          next={() => setPage(page + 1)}\n          hasMore={true}\n          scrollableTarget=\"scrollable\"\n        >\n          {posts.map((post) => {\n            return (\n              <Card\n                key={post._id}\n                localData={localData}\n                {...post}\n                token={token}\n                role={role}\n                username={username}\n                isMyPost={isMyPost}\n                setEdit={setEdit}\n                addStatus={(status) => addStatusHandler(post._id, status)}\n              />\n            );\n          })}\n        </InfiniteScroll>\n        {edit.isEdit ? (\n          <EditPost\n            edit={edit}\n            setEdit={setEdit}\n            setAlertModal={setAlertModal}\n            localData={localData}\n            cleanAlert={cleanAlert}\n            setLocalData={setLocalData}\n          />\n        ) : (\n          ''\n        )}\n        {isLoading ? <Loading /> : ''}\n      </div>\n    </main>\n  );\n};\n\nexport default MyPosts;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n/* import App from './pages/App'; */\nimport Login from './pages/Login/Login';\nimport User from './pages/User/User';\nimport Test from './pages/Test';\nimport Error from './pages/Error';\nimport Feed from './pages/Feed/Feed';\nimport RedirectUser from './pages/Redirect/RedirectUser';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport { UserProvider } from './Context/UserContext';\nimport Private from './components/PrivateRoute/PrivateRoute';\nimport MyPosts from './pages/MyPosts/MyPosts';\n\nReactDOM.render(\n  <UserProvider>\n    <BrowserRouter>\n      {/* changing routes */}\n      <Routes>\n        {/* default route */}\n        {/* <Route path=\"/\" element={<App />} /> */}\n        <Route path=\"/\" element={<Login />} />\n        <Route path=\"/login\" element={<Login />} />\n        {/* Conditional rendering on feed*/}\n        <Route\n          path=\"/feed\"\n          element={\n            <Private role=\"\">\n              {' '}\n              <Feed />{' '}\n            </Private>\n          }\n        />\n        <Route\n          path=\"/user\"\n          element={\n            <Private role=\"\">\n              {' '}\n              <User />{' '}\n            </Private>\n          }\n        />\n        <Route\n          path=\"/myposts\"\n          element={\n            <Private role=\"\">\n              {' '}\n              <MyPosts />{' '}\n            </Private>\n          }\n        />\n        {/* After login */}\n        <Route path=\"/redirect\" element={<RedirectUser />} />\n        {/* test route */}\n        <Route path=\"test\" element={<Test />} />\n        {/* error route */}\n        <Route path=\"*\" element={<Error />} />\n      </Routes>\n    </BrowserRouter>\n  </UserProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}